<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="color-scheme" content="light only">
    <meta name="supported-color-schemes" content="light only">
    <title>Your Invoice from Rayo</title>
    <style>
        /* Reset and base styles */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body, html { 
            margin: 0; 
            padding: 0; 
            width: 100% !important; 
            height: 100% !important; 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            line-height: 1.6;
            color: #333333;
            background-color: #f8f9fa;
        }
        
        table { border-collapse: collapse; }
        img { border: 0; height: auto; line-height: 100%; outline: none; text-decoration: none; }
        a { color: #5E33FF; text-decoration: none; }
        
        /* Button styles */
        .button {
            display: inline-block;
            padding: 12px 24px;
            background-color: #5E33FF;
            color: #ffffff !important;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 500;
            font-size: 14px;
            text-align: center;
        }
        
        /* Invoice specific styles */
        .invoice-box {
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            margin: 24px 0;
        }
        
        .invoice-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 4px 0;
        }
        
        .invoice-label {
            font-weight: 500;
            color: #666666;
        }
        
        .invoice-value {
            color: #1a1a1a;
            text-align: right;
        }
        
        .amount-highlight {
            font-size: 18px;
            font-weight: 600;
            color: #5E33FF;
        }
        
        .gst-notice {
            background-color: #e7f3ff;
            border: 1px solid #b3d9ff;
            border-radius: 6px;
            padding: 12px;
            margin-top: 16px;
            font-size: 13px;
            color: #0066cc;
        }
        
        /* Dark mode prevention and logo switching */
        :root { color-scheme: light !important; }
        body { forced-color-adjust: none !important; }
        
        /* Gmail app dark mode detection */
        [data-ogsc] .light-logo {
            display: none !important;
            max-height: 0 !important;
            overflow: hidden !important;
        }
        [data-ogsc] .dark-logo {
            display: block !important;
            max-height: none !important;
        }
        
        /* Apple Mail and others */
        @media (prefers-color-scheme: dark) {
            .email-container, .email-container table, .email-container td {
                background-color: #ffffff !important;
                color: #333333 !important;
            }
            .button {
                background-color: #5E33FF !important;
                color: #ffffff !important;
            }
            .light-logo {
                display: none !important;
                max-height: 0 !important;
                overflow: hidden !important;
            }
            .dark-logo {
                display: block !important;
                max-height: none !important;
            }
        }
        
        /* Yahoo Mail dark mode */
        .ymail-light .light-logo { display: none !important; }
        .ymail-light .dark-logo { display: block !important; }
        
        /* Outlook.com dark mode */
        [data-ogsb] .light-logo { display: none !important; }
        [data-ogsb] .dark-logo { display: block !important; }
        
        /* Mobile responsive */
        @media screen and (max-width: 600px) {
            .email-container { width: 100% !important; }
            .content { padding: 20px !important; }
            .invoice-box { padding: 16px !important; }
            .invoice-row { 
                flex-direction: column !important; 
                margin-bottom: 12px !important;
            }
            .invoice-value { 
                text-align: left !important; 
                margin-top: 4px !important;
            }
        }
    </style>
</head>
<body style="background-color: #f8f9fa; margin: 0; padding: 0;">
    <table role="presentation" cellpadding="0" cellspacing="0" border="0" width="100%" style="background-color: #f8f9fa;">
        <tr>
            <td align="center" style="padding: 40px 20px;">
                
                <!-- Email container -->
                <table class="email-container" role="presentation" cellpadding="0" cellspacing="0" border="0" width="600" style="max-width: 600px; background-color: #ffffff; margin: 0 auto;">
                    
                    <!-- Header with logo -->
                    <tr>
                        <td style="padding: 40px 40px 0 40px; text-align: center;">
                            <!--[if !mso]><!-->
                            <div>
                                <!-- Light mode logo (default) -->
                                {% if logo_base64 %}
                                <img src="data:image/png;base64,{{ logo_base64 }}" alt="Rayo" width="120" style="height: auto; max-width: 120px;" class="light-logo">
                                {% else %}
                                <img src="https://res.cloudinary.com/dtod7fjsc/image/upload/v1743189503/nezadmbgqzrjn7efij1e.png" alt="Rayo" width="120" style="height: auto; max-width: 120px;" class="light-logo">
                                {% endif %}
                                <!-- Dark mode logo (hidden by default) -->
                                <div class="dark-logo" style="display: none;">
                                    <img src="https://res.cloudinary.com/dtod7fjsc/image/upload/v1752998048/Rayo_Logo_ieh3km.png" alt="Rayo" width="120" style="height: auto; max-width: 120px;">
                                </div>
                            </div>
                            <!--<![endif]-->
                            <!--[if mso]>
                            {% if logo_base64 %}
                            <img src="data:image/png;base64,{{ logo_base64 }}" alt="Rayo" width="120" style="height: auto; max-width: 120px;">
                            {% else %}
                            <img src="https://res.cloudinary.com/dtod7fjsc/image/upload/v1743189503/nezadmbgqzrjn7efij1e.png" alt="Rayo" width="120" style="height: auto; max-width: 120px;">
                            {% endif %}
                            <![endif]-->
                        </td>
                    </tr>
                    
                    <!-- Main content -->
                    <tr>
                        <td class="content" style="padding: 40px;">
                            
                            <h1 style="font-size: 24px; font-weight: 600; margin-bottom: 16px; color: #1a1a1a; text-align: left;">
                                Invoice Receipt
                            </h1>
                            
                            <p style="font-size: 16px; line-height: 24px; margin-bottom: 8px; color: #666666; text-align: left;">
                                Dear <strong>{{ client_name }}</strong>,
                            </p>
                            
                            <p style="font-size: 16px; line-height: 24px; margin-bottom: 24px; color: #666666; text-align: left;">
                                Thank you for your payment. Your invoice has been generated and is attached to this email.
                            </p>
                            
                            <!-- Invoice Details Box -->
                            <div class="invoice-box" style="background-color: #f8f9fa; border: 1px solid #e9ecef; border-radius: 8px; padding: 20px; margin: 24px 0;">
                                <div class="invoice-row" style="display: flex; justify-content: space-between; margin-bottom: 8px; padding: 4px 0;">
                                    <span class="invoice-label" style="font-weight: 500; color: #666666;">Invoice Number:</span>
                                    <span class="invoice-value" style="color: #1a1a1a;">{{ invoice_number }}</span>
                                </div>
                                
                                <div class="invoice-row" style="display: flex; justify-content: space-between; margin-bottom: 8px; padding: 4px 0;">
                                    <span class="invoice-label" style="font-weight: 500; color: #666666;">Date:</span>
                                    <span class="invoice-value" style="color: #1a1a1a;">{{ issue_date }}</span>
                                </div>
                                
                                <div class="invoice-row" style="display: flex; justify-content: space-between; margin-bottom: 8px; padding: 4px 0;">
                                    <span class="invoice-label" style="font-weight: 500; color: #666666;">Payment Method:</span>
                                    <span class="invoice-value" style="color: #1a1a1a;">{{ payment_method }}</span>
                                </div>
                                
                                {% if payment_reference %}
                                <div class="invoice-row" style="display: flex; justify-content: space-between; margin-bottom: 8px; padding: 4px 0;">
                                    <span class="invoice-label" style="font-weight: 500; color: #666666;">Payment Reference:</span>
                                    <span class="invoice-value" style="color: #1a1a1a;">{{ payment_reference }}</span>
                                </div>
                                {% endif %}
                                
                                <div class="invoice-row" style="display: flex; justify-content: space-between; margin-bottom: 8px; padding: 4px 0; border-top: 1px solid #dee2e6; padding-top: 12px; margin-top: 12px;">
                                    <span class="invoice-label" style="font-weight: 600; color: #1a1a1a; font-size: 18px;">Total Amount:</span>
                                    <span class="invoice-value amount-highlight" style="color: #1a1a1a; font-size: 18px; font-weight: 600; color: #5E33FF;">{{ formatted_amount }}</span>
                                </div>
                            </div>
                            
                            <p style="font-size: 14px; line-height: 20px; margin-bottom: 16px; color: #666666; text-align: center;">
                                The invoice PDF is attached to this email for your records. If you have any questions, please contact our support team at <a href="mailto:support@rayo.work" style="color: #5E33FF;">support@rayo.work</a>.
                            </p>
                            
                            <p style="font-size: 14px; line-height: 20px; color: #666666; text-align: center;">
                                Thank you for choosing Rayo!
                            </p>
                            
                        </td>
                    </tr>
                    
                    <!-- Footer -->
                    <tr>
                        <td style="padding: 20px 40px 40px 40px; text-align: center; border-top: 1px solid #f0f0f0;">
                            <p style="font-size: 12px; color: #999999; margin: 0;">
                                Â© 2025 Rayo. All rights reserved.
                            </p>
                        </td>
                    </tr>
                    
                </table>
                
            </td>
        </tr>
    </table>
</body>
</html>